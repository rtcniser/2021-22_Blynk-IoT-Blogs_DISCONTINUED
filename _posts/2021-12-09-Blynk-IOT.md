---
layout: post
title:  "Getting Started!"
excerpt: "Start your First Blynk 2.0 Project!"
date:   2021-12-09 01:09:32 +0530
---

&emsp; Here we will learn how to create our first project on the Blynk IoT platform. We will connect an LED to some pin on the NodeMCU. Then we will be able to controll it both through the blynk mobile app and the web portal through computers.

We will use **NodeMCU** throughout this tutorial. It is a WiFi capable Development Board based on the *ESP8266* microchip.

<a name="TOP"></a>This Tutorial contains:

1. [Account](#Account)
2. [Templates](#Templates)
    * [What are Templates?](#What_are_Templates)
    * [How to Create Templates?](#How_to_Create_Templates)
3. [Datastreams](#Datastreams)
    * [What are Datastreams?](#What_are_Datastreams)
    * [Setting up Virtual Pins](#Setting_up_Virtual_Pins)
4. [Setting up Web Dashboard](#Setting_up_Web_Dashboard)
5. [Creating and Setting up Devices](#Devices)
    * [Through Auth Token](#AuthToken)
    * [Through Mobile App](#MobileApp)
6. [How to Use The Blynk App](#App)
    * [Device Setup through Mobile App](#AddThroughApp)
    * sth more
    * and more
7. [Adding Libraries and Boards](#Libraries)
8. [Coding: Making a Basic LED Control Project](#LEDControlProject)
    * [Through Mobile App](#MobAppCode)
    * [Through Auth Token](#AuthTokenCode)
9. [End](#end)










***
<br>
## <a name="Account"></a>1. Account <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>

&emsp; First you have to go to the [Blynk Site](https://blynk.cloud/dashboard/login) site, and make an account.

&emsp; After you have logged in to your Blynk account, you will be able to see a dashboard like this:

[![image](/Blynk-IoT-Blogs/static/dashboard.png)](/Blynk-IoT-Blogs/static/dashboard.png)









<br>
## <a name="Templates"></a>2. Templates <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>
&emsp; Before creating a device, you need to create a template.
### <a name="What_are_Templates"></a>&emsp; What are Templates?
&emsp; At first, you have to create a template for each type of device you have. For example, in this tutorial, we will control an LED through a button on your smartphone or laptop. At first we will make a template for a light, then we can make a device called light and tell that it belongs to this template.\
&emsp; Creating templates is somewhat like defining objects in programming and creating devices is like making instances of those objects. **There can be multiple devices under the same template.**

### <a name="How_to_Create_Templates"></a>&emsp; How to Create Templates?
&emsp; To create a template, first click on the new template button on the dashboard and fill up the form. I am using a NodeMCU which is based on the *ESP8266* microchip. So, I have put **"Hardware = ESP8266"**.\
&emsp; This is how mine looks:

[![image](/Blynk-IoT-Blogs/static/templates1.png)](/Blynk-IoT-Blogs/static/templates1.png)

&emsp; Finally click on <button style="background-color: #47cfa2;border-radius:5px;border:none;padding:5px 15px 5px 15px">Done</button> button to create the template.\
&emsp; After creating the template, you will see something like this:

[![image](/Blynk-IoT-Blogs/static/templates2.png)](/Blynk-IoT-Blogs/static/templates2.png)

&emsp; Under the *Info* tab, you can further edit the data you have just entered along with some other fileds.

<a name="Infos">&emsp;</a> **Note** that we are given 2 informations (BLYNK_TEMPLATE_ID and BLYNK_DEVICE_NAME) under this Info tab. We will need those two pieces of informations later. So, we will return to this Info tab again while writing the code.

&emsp; Editing the *Metadata* tab is not essencial for device setup. So let us skip it and move on to the *Datastreams* tab.










<br>
## <a name="Datastreams"></a>3. Datastreams <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>
&emsp; **According to Blynk:** Datastreams is a way to structure data that regularly flows in and out from device. Use it for sensor data, any telemetry, or actuators.
&emsp; 
### <a name="What_are_Datastreams"></a>&emsp; What are Datastreams?
&emsp; Datastreams are the channels of data that will be shared between the devices. There are various sorts of datastreams:

&emsp; **Digital and Analog Datastreams:** Digital and Analog Datastreams are generally used to read data from the sensors. Setting up such a datastream might let you read temperature data from your device with a temperature sensor and view it on your smartphone. It might also be symultaneously used to automatically turn on the AC when the temperature reaches a certain value.
<br>

&emsp; **Virtual Pins:** These pins do not have any physical existence. They are mere buttons or sliders on your smartphone/laptop screen which helps you to manually interact with these devices at your own will. Such a datastream will let you set up a virtual button on your smartphone whose value you can controll manually. Thus you can setup an LED to turn on when the value of that virtual pin is 1 and turn off when that is 0. We can avail **255 virtual pins** in the Blynk IoT platform.
<h6 style="color: red;">*Number of possible Digital and Analog Datastreams depends on the device you are using.</h6>

&emsp; **In this tutorial, we will concentrate on "Virtual Pins" only.** 

### <a name="Setting_up_Virtual_Pins"></a>&emsp; Setting up Virtual Pins

&emsp; To setup a Virtual Pin, navigate to the Datastream tab, **hover** on the <button style="background-color: #47cfa2;border-radius:5px;border:none;padding:7px">**+** New Datastream</button> button and select **Virtual Pin**. Next, fill up the form.\
&emsp; I have taken Virtual Pin **V0** (available V0-V255). Here we will controll an LED by reading the value from this pin. It has only two states (i.e.: on and off). So we will set datatype as **Integer** and set the minimum and maximum values to be **0 and 1**. Default value is your choice!

&emsp; Mine looks like this:

[![image](/Blynk-IoT-Blogs/static/datastream.png)](/Blynk-IoT-Blogs/static/datastream.png)

&emsp; When done, click on <button style="background-color: #47cfa2;border-radius:5px;border:none;padding:7px">Create</button> button to create the datastream.










<br>
## <a name="Setting_up_Web_Dashboard"></a>4. Setting up Web Dashboard <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>
&emsp; This is the dashboard you will be using to control your devices. Though the web dashboard and the app dashboard works exactly the same way, you will have to setup both of them separately.&ensp;:(

&emsp; Next move on to the *Web Dashboard* tab, drag and drop a switch in the working area (You might also like to add an LED which will show you the current state of the actual LED). You can resize the buttons. 

&emsp; Finally click on the nut icon <img src="/Blynk-IoT-Blogs/static/settings.png" height=15px> on the top left corner of the switch which you have just dragged and dropped onto your working area. Select the datastream you have just created and fill the rest of the informations according to your needs. **Save** it at the end.

&emsp; I have filled it up like this:

[![image](/Blynk-IoT-Blogs/static/WebDashboard.png)](/Blynk-IoT-Blogs/static/WebDashboard.png)

&emsp; If you have brought the LED to the workspace, which will show you the current state of the actual LED, you need to connect that to to the required datastream too (in my case V0). Click on the <img src="/Blynk-IoT-Blogs/static/settings.png" height=15px> icon to do that.

&emsp; This is how my Web Dashboard came up to be:

[![image](/Blynk-IoT-Blogs/static/WebDashboard2.png)](/Blynk-IoT-Blogs/static/WebDashboard2.png)

&emsp; When you are done click <button style="background-color: #47cfa2;border-radius:5px;border:none;padding:5px 15px 5px 15px">Save</button> on the top right.
#### Congratulations! Your template is ready!










<br>
## <a name="Devices"></a>5. Creating and Setting up Devices <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>
&emsp; Now that we have our template, we can create multiple devices from the same template. There are two ways of creating a device:

1. **Through Mobile App:** In this way, we won't upload the WiFi connecting credentials in the Code of the NodeMCU. After uploading the code, we will (sort of) login to the NodeMCU through Blynk Mobile App and enter the WiFi credentials there. You need to keep only the *BLYNK_TEMPLATE_ID* and *BLYNK_DEVICE_NAME* in the code. You will get that in the *Info* tab of the template (as mentioned [above](#Infos)). When the Blynk Mobile App connects to the device, it will automatically save the WiFi credentials and the Auth Token to the *EEPROM* of the NodeMCU. It will generate an Auth Token while creating a device.

2. **Through Auth Token:** The last method only worked with the help of Blynk Mobile App, but this process can be followed in both Mobile/PC. Here we will virtually create a device. Then we would be provided with an Auth Token. We would include ***Template ID***, ***Device Name***, ***Authorisation Token***, ***WiFi SSID*** and, ***WiFi Password*** in our code. Then the device will work without any further setup through both the Blynk App and the web interface.

&emsp; We will learn both the processes in detail. We will only learn the second method (Through Auth Token) now. We will learn the Mobile App method while learning how to use the app towards the end of this page.


### <a name="AuthToken"></a>&emsp; Through Auth Token

&emsp; Go to the search tab on the navigation bar on the left. 

[![image](/Blynk-IoT-Blogs/static/AuthToken1.png)](/Blynk-IoT-Blogs/static/AuthToken1.png)

&emsp; Then Click on <button style="background-color: #47cfa2; border-radius:5px;border:none;padding:7px">**+** New Device</button> button and select to add a device from Template (the other options are not for us). Select the template name and name the device. I will use a green LED. So I kept the name of my device as **Green LED**.

&emsp; Now, on the top right corner, you will see a pop up like this:

[![image](/Blynk-IoT-Blogs/static/AuthToken2.png)](/Blynk-IoT-Blogs/static/AuthToken2.png)

&emsp; This contains all the informations which are needed to be put into the code apart from the WiFi credentials. 

### <b>What? You clicked on the cross by mistake?</b> &emsp;Don't worry, you can always find these informations under the *Device Info* tab.

&emsp; Next, for the coding part, go [here](#AuthTokenCode2) to learn more.

### <a name="MobileApp"></a>&emsp; Through Mobile App
&emsp; Let us talk about this in the [next](#AddThroughApp) section.










<br>
## <a name="App"></a>6. How to Use The Blynk App <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>
&emsp; At first we need to download the **Blynk IoT** App.

<div style="text-align:center;">
<h6 style="color: red;">*Remember to <strong>not</strong> download the Blynk (legacy) App.</h6>
<a href="https://play.google.com/store/apps/details?id=cloud.blynk" target="_blank">
<button style="background-color: #9BD9FF;border-radius:5px;border:3px solid #fff;padding:7px;cursor:pointer">
<img src="https://static-image.nyc3.cdn.digitaloceanspaces.com/general/google_play_store.png" style="height:20px;"> Download for Android
</button>
</a>
<a href="https://apps.apple.com/us/app/blynk-iot/id1559317868" target="_blank">
<button style="background-color: #9BD9FF;border-radius:5px;border:3px solid #fff;padding:7px;cursor:pointer">
<img src="https://static-image.nyc3.cdn.digitaloceanspaces.com/general/ios_app_store.png" style="height:20px;"> Download for IOS
</button>
</a>
</div>

### <a name="AddThroughApp"></a>&emsp; Device Setup through Mobile App
&emsp; First Upload [this](#MobAppCode) code to the NodeMCU. It contains the **Blynk Template ID** and the **Blynk Device Name** (which are properties of the template we are using). Find these informations under the *Info* tab of the template you are going to use. It contains code for directly writing the value of the concerned virtual pin (I am using V0) to the LED connected to the NodeMCU (I am using **D5 pin**). Thus it will make the D5 pin *HIGH* when value of V0 will be 1 and make D5 pin *LOW* when value of V0 will be 0. We will manually control the value of the pin from the mobile/web dashboard according to our will. Thus we would be left with a button on our smart phone which can make our LED glow or turn it off.

&emsp; After uploading the code to the NodeMCU, open the Blynk app on your smartphone. As you will log into your Blynk account, your screen will look like [Fig 1](#Fig1).

<div style=" text-align:center;">
<a name="Fig1"><img src="/Blynk-IoT-Blogs/static/AppFig1.jpg" width=350px style="border: 1px solid #000; border-radius:10px;margin:5px"></a>
<a name="Fig2"><img src="/Blynk-IoT-Blogs/static/AppFig2.jpg" width=350px style="border: 1px solid #000; border-radius:10px;margin:5px"></a>
</div>

&emsp; Next do the following steps to connect the NodeMCU to a local WiFi network:

   * Add new device -> Connect to Wi-Fi -> Turn on WiFi and GPS of your smartphone -> Ready -> Select your device -> Grant Permission -> Select and Connect to the desired Wi-Fi network -> Name the Device (I will name it "Green LED") -> Continue -> Set up as new -> Done -> Ok, great! -> Finish and exit -> Setup Dashboard -> Setup the mobile Dashboard. I preffer to set it up just like I did while making the template. Here's how I did it:

<div style=" text-align:center;">
<a name="Fig3"><img src="/Blynk-IoT-Blogs/static/AppFig3.jpg" width=350px style="border: 1px solid #000; border-radius:10px;margin:5px"></a>
<a name="Fig4"><img src="/Blynk-IoT-Blogs/static/AppFig4.jpg" width=350px style="border: 1px solid #000; border-radius:10px;margin:5px"></a>
</div>

&emsp; Click on the hamburger menu on the top right corner of the screen (As indicated in [Fig 3](#Fig3)). Next bring the Items indicated in [Fig 4](#Fig4) to your workspace, resize them and place them according to your own will. Then click on each of them and and configure them. 

<div style=" text-align:center;">
<a name="Fig5"><img src="/Blynk-IoT-Blogs/static/AppFig5.jpg" width=350px style="border: 1px solid #000; border-radius:10px;margin:5px"></a>
<a name="Fig6"><img src="/Blynk-IoT-Blogs/static/AppFig6.jpg" width=350px style="border: 1px solid #000; border-radius:10px;margin:5px"></a>
</div>

&emsp; [Fig 5](#Fig5) shows how I configured the switch. Just like the Button, do not forget to connect the LED to the same pin.\
&emsp; My dashboard came up like [Fig 6](#Fig6) at the end. 

&emsp; Finally click on the button on the top left corner as in [Fig 6](#Fig6) to come out of the Dashboard Setup Menu.

<h4 style="color: green;"><strong> Now click on the Button to turn it on or off. Enjoy! </strong></h4>










<br>
## <a name="Libraries"></a>7. Adding Libraries and Boards <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>

&emsp; To complete the coding part in the **Arduino IDE** we need to install some libraries into it. We would need to install *ESP8266 Board* and the *Blynk Library* in the Arduino IDE:
1. **ESP8266 Board:** In the Arduino IDE, go to:

    * File -> Prefferences -> Paste this link ```http://arduino.esp8266.com/stable/package_esp8266com_index.json``` in *Additional Boards Manager URLs* field -> OK

    [![image](/Blynk-IoT-Blogs/static/InstallBoard1.png)](/Blynk-IoT-Blogs/static/InstallBoard1.png)

    &emsp; ...next in the Arduino IDE, go to:

    * Tools -> Board: -> Board Manager... -> Search **"ESP8266"** -> install it -> Close it -> Again go to Tools -> Board: -> ESP8266 Boards (3.0.2) -> Select **"NodeMCU 1.0 (ESP-12E Module)"**

2. **Blynk Library:**
First click [**here ⬇**](https://github.com/blynkkk/blynk-library/archive/refs/heads/master.zip) to download the code from this GitHub repository [https://github.com/blynkkk/blynk-library](https://github.com/blynkkk/blynk-library/releases) as a **.ZIP** file.

&emsp; Then in the Arduino IDE, go to:

* Sketch -> Include Library -> Add .ZIP Library... -> Select the downloaded .ZIP file -> Choose

## <a name="LEDControlProject"></a>8. **Coding:** Making a Basic LED Control Project <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>
&emsp; As mentioned in the [Devices](#Devices) section, there are two ways of creating devices:

1. <a name="MobAppCode"></a>**Through Mobile App:** To create a device through the Blynk IoT mobile app, first we have to upload a code to the NodeMCU. In the Arduino IDE open the Blynk Edgent code for ESP8266:
    
    * File -> Example -> Blynk -> Blynk.Edgent -> Edgent_ESP8266
    
    Then replace the code with the code below:

    ```c
   // Fill-in information from your Blynk Template here
   #define BLYNK_TEMPLATE_ID "YourTemplateID"
   #define BLYNK_DEVICE_NAME "YourDeviceName"
   
   #define BLYNK_FIRMWARE_VERSION        "0.1.0"
   
   #define BLYNK_PRINT Serial
   //#define BLYNK_DEBUG
   
   #define APP_DEBUG
   
   // Uncomment your board, or configure a custom board in Settings.h
   //#define USE_SPARKFUN_BLYNK_BOARD
   #define USE_NODE_MCU_BOARD
   //#define USE_WITTY_CLOUD_BOARD
   //#define USE_WEMOS_D1_MINI
   
   #include "BlynkEdgent.h"
   
   int pin = D5;
   
   BLYNK_WRITE(V0){
     int val = param.asInt();
     digitalWrite(pin, val);
     if(val==1){
       Serial.println("LED switched ON");
     }else{
       Serial.println("LED switched OFF\n");
     }
   }
   
   void setup()
   {
     pinMode(pin, OUTPUT);
     Serial.begin(115200);
     delay(100);
     BlynkEdgent.begin();
   }
   
   void loop() {
     BlynkEdgent.run();
   }
    ```

    &emsp; Replace the *BLYNK_TEMPLATE_ID*, *BLYNK_DEVICE_NAME* and the two pin numbers with you own ones. Next connect the NodeMCU to your computer and select it under **Tools -> Board: -> ESP8266 Boards (3.0.2) -> Select “NodeMCU 1.0 (ESP-12E Module)**. Also select the Port which you have connected the board to. Finally upload the code.
    
    &emsp; **Note:** If you are facing issues while uploading/compiling, make sure you have completed [Step 7](#Libraries) successfully.
    
    &emsp; After uploading this code, go [here](#AddThroughApp) to see the steps for device setup through Blynk App.

2. <a name="AuthTokenCode"></a>**Through Auth Token:** The last method only worked with the help of Blynk Mobile App, but this process can be followed in both Mobile/PC. Here we will virtually create a device. Then we would be provided with an Auth Token. We would include ***Template ID***, ***Device Name (Optional)***, ***Authorisation Token***, ***WiFi SSID*** and, ***WiFi Password*** in our code. Then the device will work without any further setup through both the Blynk App and the web interface.

<a name="AuthTokenCode2"></a>&emsp; After completing [this](#AuthToken) step, upload the below code into your NodeMCU. <span style="color: red;">Do not forget to replace them with **your** credentials.</span>

```c
/* Comment this out to disable prints and save space */
//#define BLYNK_PRINT Serial

/* Fill-in your Template ID (only if using Blynk.Cloud) */
#define BLYNK_TEMPLATE_ID "YourTemplateID"
#define BLYNK_DEVICE_NAME "YourDeviceName"
#define BLYNK_AUTH_TOKEN "YourAuthToken"

#include <ESP8266WiFi.h>
#include <BlynkSimpleEsp8266.h>

// Your WiFi credentials.
// Set password to "" for open networks.
char ssid[] = "YourWiFiSSID";
char pass[] = "YourWiFiPwd";
int pin = D5;

BLYNK_WRITE(V0){
  int pinValue = param.asInt();
  digitalWrite(pin, pinValue);
}

void setup()
{
  pinMode(pin, OUTPUT);
  Serial.begin(9600);
  delay(100);
  Blynk.begin(BLYNK_AUTH_TOKEN, ssid, pass);
}

void loop()
{
  Blynk.run();
}
```

&emsp; After you upload the code, you can easily access your device from both the mobile app and the Web Dashboard.





## <a name="end"></a>9. End <a href="#TOP" title="Back to Top"><img src="/Blynk-IoT-Blogs/static/back_to_top.png" height=30px></a>

